C51 COMPILER V9.54   MAIN                                                                  05/06/2021 14:52:34 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND P
                    -RINT(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1           #include <reg52.h>
   2           #include <stdio.h>
   3           #include <math.h>
   4          #include "string.h"
   5          #include "delay.h"
   6          #include "HCSR04.h"
   7          #include "iic1602.h"
   8          #include "MatrixKey.h"
   9          #include "at24c02.h"
  10          unsigned char code redistance[] = " L___ F___ R___ ";
  11          unsigned char code safe[] = "    safe now    ";
  12          unsigned char code danger[] = "   danger now   ";
  13          unsigned char code setting[] = "   input dist   ";
  14          unsigned char code number[] = "0123456789";
  15          char setdistance[] = " L___ F___ R___ ", KeyNum = 10;
  16          int leftnumber, lbaiwei, lshiwei, lgewei,
  17          frontnumber, fbaiwei, fshiwei, fgewei,
  18          rightnumber, rbaiwei, rshiwei, rgewei,
  19          i, j, k, l;
  20          int main()
  21          {
  22   1        k = 0;
  23   1        lcd_init();
  24   1        dispaly_character(0, 0, setting);
  25   1        dispaly_character(0, 1, redistance);
  26   1        while (1)
  27   1        {
  28   2       /*left*/
  29   2         TRIGL=1;       //??????????,????10us
  30   2         DelayUs2x(10);
  31   2         TRIGL=0;
  32   2         while(!ECHOL); //?????
  33   2         TR0=1;
  34   2         while(ECHOL);  //?????
  35   2         TR0=0;
  36   2         S=TH0*256+TL0;//???????8???8???
  37   2         S=S/58;       //?????58????,  Y?=(X?*344)/2
  38   2                 // X?=( 2*Y?)/344 -> X?=0.0058*Y? -> ??=??/58 
  39   2         TH0=0;
  40   2         TL0=0;        //?????0??????
  41   2         sprintf(DisTempData,"L=%6.2f CM     ",S);//??????
  42   2         dispaly_character(0,0,DisTempData);       //???????
  43   2         DelayMs(250);                            //????????
  44   2         /*front*/
  45   2         TRIGF=1;       //??????????,????10us
  46   2         DelayUs2x(10);
  47   2         TRIGF=0;
  48   2         while(!ECHOF); //?????
  49   2         TR0=1;
  50   2         while(ECHOF);  //?????
  51   2         TR0=0;
  52   2         S=TH0*256+TL0;//???????8???8???
  53   2         S=S/58;       //?????58????,  Y?=(X?*344)/2
  54   2                 // X?=( 2*Y?)/344 -> X?=0.0058*Y? -> ??=??/58 
C51 COMPILER V9.54   MAIN                                                                  05/06/2021 14:52:34 PAGE 2   

  55   2         TH0=0;
  56   2         TL0=0;        //?????0??????
  57   2         sprintf(DisTempData,"F=%6.2f CM     ",S);//??????
  58   2         dispaly_character(0,1,DisTempData);       //???????
  59   2         DelayMs(250);   
  60   2      //    KeyNum = MatrixKey();
  61   2      //    /*save*/
  62   2      //    if (KeyNum == 11)
  63   2      //    {
  64   2      //      ISendStr(0xA0, 0, setdistance, 16);
  65   2      //      j = k;
  66   2      //    }
  67   2      //    /*load*/
  68   2      //    if (KeyNum == 12)
  69   2      //    {
  70   2      //      IRcvStr(0xA0, 0, setdistance, 16);
  71   2      //      dispaly_character(0, 1, setdistance);
  72   2      //      k = j;
  73   2      //    }
  74   2      //    /*set distance*/
  75   2      //    if (KeyNum == 13)
  76   2      //    {
  77   2      //      k++;
  78   2      //      if (k == 1)
  79   2      //      { 
  80   2      //        for(i=0;i<15;i++)
  81   2      //        {
  82   2      //        setdistance[i] =redistance[i];
  83   2      //        }
  84   2      //        for (i = 2; i < 5;)
  85   2      //        {
  86   2      //          KeyNum = MatrixKey();
  87   2      //          if (KeyNum < 10)
  88   2      //          {
  89   2      //            setdistance[i] = number[KeyNum];
  90   2      //            dispaly_character(0, 1, setdistance);
  91   2      //            if (i == 2)
  92   2      //            {
  93   2      //              lbaiwei = MatrixKey() * 100;
  94   2      //            }
  95   2      //            if (i == 3)
  96   2      //            {
  97   2      //              lshiwei = MatrixKey() * 10;
  98   2      //            }
  99   2      //            if (i == 4)
 100   2      //            {
 101   2      //              lgewei = MatrixKey();
 102   2      //            }
 103   2      //            leftnumber = lbaiwei + lshiwei + lgewei;
 104   2      //            i++;
 105   2      //          }
 106   2      //        }
 107   2      //      }
 108   2      
 109   2      //      if (k == 2)
 110   2      //      {
 111   2      //        for (i = 7; i < 10;)
 112   2      //        {
 113   2      //          KeyNum = MatrixKey();
 114   2      //          if (KeyNum < 10)
 115   2      //          {
 116   2      
C51 COMPILER V9.54   MAIN                                                                  05/06/2021 14:52:34 PAGE 3   

 117   2      //            setdistance[i] = number[KeyNum];
 118   2      //            dispaly_character(0, 1, setdistance);
 119   2      //            if (i == 7)
 120   2      //            {
 121   2      //              fbaiwei = MatrixKey() * 100;
 122   2      //            }
 123   2      //            if (i == 8)
 124   2      //            {
 125   2      //              fshiwei = MatrixKey() * 10;
 126   2      //            }
 127   2      //            if (i == 9)
 128   2      //            {
 129   2      //              fgewei = MatrixKey();
 130   2      //            }
 131   2      //            frontnumber = fbaiwei + fshiwei + fgewei;
 132   2      //            i++;
 133   2      //          }
 134   2      //        }
 135   2      //      }
 136   2      
 137   2      //      if (k == 3)
 138   2      //      {
 139   2      //        for (i = 12; i < 15;)
 140   2      //        {
 141   2      //          KeyNum = MatrixKey();
 142   2      //          if (KeyNum < 10)
 143   2      //          {
 144   2      //            setdistance[i] = number[KeyNum];
 145   2      //            dispaly_character(0, 1, setdistance);
 146   2      //            if (i == 12)
 147   2      //            {
 148   2      //              rbaiwei = MatrixKey() * 100;
 149   2      //            }
 150   2      //            if (i ==13)
 151   2      //            {
 152   2      //              rshiwei = MatrixKey() * 10;
 153   2      //            }
 154   2      //            if (i == 14)
 155   2      //            {
 156   2      //              rgewei = MatrixKey();
 157   2      //            }
 158   2      //            rightnumber = rbaiwei + rshiwei + rgewei;
 159   2      //            i++;
 160   2      //          }
 161   2      //        }
 162   2      //        k = 0;
 163   2      //      }
 164   2      
 165   2      //    }
 166   2      
 167   2        }
 168   1        return 0;
 169   1      }
*** WARNING C294 IN LINE 168 OF main.c: unreachable code


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    265    ----
   CONSTANT SIZE    =    111    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     70    ----
C51 COMPILER V9.54   MAIN                                                                  05/06/2021 14:52:34 PAGE 4   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
