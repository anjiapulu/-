C51 COMPILER V9.54   KEYDOUS                                                               05/17/2021 08:48:53 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE KEYDOUS
OBJECT MODULE PLACED IN .\Objects\keydous.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Keil_v5\C51\BIN\C51.EXE keydous.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEN
                    -D PRINT(.\Listings\keydous.lst) TABS(2) OBJECT(.\Objects\keydous.obj)

line level    source

   1          #include <reg52.h>
   2          #include "1602.h"
   3          #include "delay.h"
   4          #include "string.h"
   5          #include "MatrixKey.h"
   6          #include "at24c02.h"
   7          unsigned char code studentid[] = "0123456789";
   8          extern char leftnumber, backnumber, rightnumber ;
   9          int KeyNum, k = 0, number[3];
  10          extern int i,j;
  11          char  keydous()
  12          {
  13   1        /*------------------------------------------------
  14   1            at24c02¥Ê»°
  15   1        ------------------------------------------------*/
  16   1          if (KeyNum == 11)
  17   1          {
  18   2          ISendStr(0xA0, 0, &leftnumber, 4);
  19   2          ISendStr(0xA0, 4, &backnumber, 4);
  20   2          ISendStr(0xA0, 8, &rightnumber, 4);
  21   2          }
  22   1          if (KeyNum == 12)
  23   1          {
  24   2          IRcvStr(0xA0, 0, &leftnumber, 4);
  25   2          IRcvStr(0xA0, 4, &backnumber, 4);
  26   2          IRcvStr(0xA0, 8, &rightnumber, 4);
  27   2          k=4;
  28   2          }
  29   1        /*------------------------------------------------
  30   1            ∑‰√˘∆˜æØΩ‰÷µ ‰»Î
  31   1        ------------------------------------------------*/
  32   1        while (k < 3)
  33   1        {
  34   2          if (k == 0)
  35   2          {
  36   3            LCD_Write_String(0, 1, " L___ B___ R___ ");
  37   3          }
  38   2          LCD_Write_String(0, 0, "   input dist   ");
  39   2          KeyNum = MatrixKey();
  40   2          if (KeyNum == 13)
  41   2          {
  42   3            k++;
  43   3            if (k == 1)
  44   3            {
  45   4              for (i = 2; i < 5;)
  46   4              {
  47   5                KeyNum = MatrixKey();
  48   5                switch (i)
  49   5                {
  50   6                case 2:if (KeyNum > 0 && KeyNum < 10)leftnumber += (KeyNum * 100); break;
  51   6                case 3: if (KeyNum > 0 && KeyNum < 10)leftnumber += (KeyNum * 10); break;
  52   6                case 4: if (KeyNum > 0 && KeyNum < 10)leftnumber += (KeyNum); break;
  53   6                }
  54   5      
C51 COMPILER V9.54   KEYDOUS                                                               05/17/2021 08:48:53 PAGE 2   

  55   5                if (KeyNum < 10)
  56   5                {
  57   6                  LCD_Write_Char(i, 1, studentid[KeyNum]);
  58   6                  i++;
  59   6                }
  60   5                DelayMs(50);
  61   5              }
  62   4            }
  63   3            if (k == 2)
  64   3            {
  65   4              for (i = 7; i < 10; )
  66   4              {
  67   5                KeyNum = MatrixKey();
  68   5                switch (i)
  69   5                {
  70   6                case 7: if (KeyNum > 0 && KeyNum < 10)backnumber += (KeyNum * 100); break;
  71   6                case 8: if (KeyNum > 0 && KeyNum < 10)backnumber += (KeyNum * 10); break;
  72   6                case 9: if (KeyNum > 0 && KeyNum < 10)backnumber += (KeyNum); break;
  73   6                }
  74   5                if (KeyNum < 10)
  75   5                {
  76   6                  LCD_Write_Char(i, 1, studentid[KeyNum]);
  77   6                  i++;
  78   6                }
  79   5                DelayMs(50);
  80   5              }
  81   4            }
  82   3            if (k == 3)
  83   3            {
  84   4              k = 4;
  85   4              for (i = 12; i < 15; )
  86   4              {
  87   5                KeyNum = MatrixKey();
  88   5                switch (i)
  89   5                {
  90   6                case 12: if (KeyNum > 0 && KeyNum < 10)rightnumber += (KeyNum * 100); break;
  91   6                case 13: if (KeyNum > 0 && KeyNum < 10)rightnumber += (KeyNum * 10); break;
  92   6                case 14: if (KeyNum > 0 && KeyNum < 10)rightnumber += (KeyNum); break;
  93   6                }
  94   5      
  95   5                if (KeyNum < 10)
  96   5                {
  97   6                  LCD_Write_Char(i, 1, studentid[KeyNum]);
  98   6                  i++;
  99   6                }
 100   5                DelayMs(50);
 101   5              }
 102   4      
 103   4              LCD_Write_String(0, 0, "                ");
 104   4            }
 105   3      
 106   3          }
 107   2      
 108   2        }
 109   1        return leftnumber, backnumber, rightnumber;
 110   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    817    ----
   CONSTANT SIZE    =     62    ----
   XDATA SIZE       =   ----    ----
C51 COMPILER V9.54   KEYDOUS                                                               05/17/2021 08:48:53 PAGE 3   

   PDATA SIZE       =   ----    ----
   DATA SIZE        =     10    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
